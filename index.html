<!DOCTYPE html>
<meta charset="UTF-8">
<title>W:tA Combat</title>
<link rel="stylesheet" type="text/css" href="stylesheets/wta-combat.css">
<h1>W:tA Combat</h1>

<form>
<p id="control">
  <input type="button" value="Combat!" id="trigger">
  <input type="reset" value="Reset">
  <span id="result"></span>
</p>

<ol id="combat-table">
  <li id="attack">
    Attack
    <ul>
      <li><label>Dicepool<input type="number" name="dicepool" value="6" min="0"></label></li>
      <li><label>Difficulty<input type="number" name="difficulty" value="6" min="1" max="10"></label></li>
      <li><label><input type="checkbox" name="specialty" checked>Specialty</label></li>
      <li><label><input type="checkbox" name="willpower">Willpower</label></li>
    </ul>
    <p class="result"></p>
  </li>
  <li id="defense">
    Defense
    <ul>
      <li><label>Dicepool<input type="number" name="dicepool" value="6" min="0"></label></li>
      <li><label>Difficulty<input type="number" name="difficulty" value="6" min="1" max="10"></label></li>
      <li><label><input type="checkbox" name="specialty">Specialty</label></li>
      <li><label><input type="checkbox" name="willpower">Willpower</label></li>
    </ul>
    <p class="result"></p>
  </li>
  <li id="damage">
    Damage
    <ul>
      <li><label>Dicepool<input type="number" name="dicepool" value="6" min="0"></label></li>
      <li><label>Difficulty<input type="number" name="difficulty" value="6" min="1" max="10"></label></li>
    </ul>
    <p class="result"></p>
  </li>
  <li id="soak">
    Soak
    <ul>
      <li><label>Dicepool<input type="number" name="dicepool" value="6" min="0"></label></li>
      <li><label>Difficulty<input type="number" name="difficulty" value="6" min="1" max="10" readonly></label></li>
      <li><label><input type="checkbox" name="willpower">Willpower</label></li>
    </ul>
    <p class="result"></p>
  </li>
</ol>
</form>

<h2>Issues</h2>
<ul>
  <li>UI、UXが悪い。</li>
  <li>防御側のキャラクターが、攻撃側の結果を見てから&lt;意志力&gt;を消費するかどうか決められない。</li>
  <li>防御が大失敗した時、防御側キャラクターはダメージ減少判定できるんでしたっけ？　今はできないということにしています。</li>
  <li>防御が大失敗した時、ダメージ判定のダイスプールはどうなるんでしたっけ？　今は攻撃判定の成功数がそのまま足されています。</li>
</ul>

<h2>Todos</h2>
<ul>
  <li>防御しなかった時の扱い。</li>
</ul>

<script type="text/javascript" src="scripts/jquery.js"></script>
<script type="text/javascript" src="scripts/mustache.js"></script>
<script type="text/javascript" src="scripts/wta-roll.js"></script>
<script type="text/javascript" src="scripts/wta-combat.js"></script>
<script type="text/template" id="roll-result">
  {{#botch}}{{^successPurchased}}
  <strong class="botch">Botch!</strong>
  {{/successPurchased}}{{/botch}}
  <span class="successes"><span class="number">{{successes}}</span> successes</span><br>
  {{#formattedEyes}}{{{.}}}{{/formattedEyes}}
  {{#successPurchased}}(Willpower spent){{/successPurchased}}
  {{#additionalPool}}({{additionalPool}} dice enhanced){{/additionalPool}}
</script>
